<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0"
          xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
          xmlns:granite="http://www.adobe.com/jcr/granite/1.0"
          jcr:primaryType="nt:unstructured"
          sling:resourceType="granite/ui/components/coral/foundation/well">
    <items jcr:primaryType="nt:unstructured">
        <title
            jcr:primaryType="nt:unstructured"
            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
            value="${{categoryLabel}}"
            fieldLabel="Category Title"
            name="./items/${{categoryName}}/title"
            required="{Boolean}false"
            disabled="${{(Boolean)readOnlyTitle}}"/>
        <links
            jcr:primaryType="nt:unstructured"
            sling:resourceType="granite/ui/components/coral/foundation/form/multifield"
            composite="{Boolean}true"
            fieldDescription="Maximum 4 links are allowed"
            fieldLabel="Category Links"
            margin="{Boolean}true"
            validation="coral-multifield">
            <granite:data
                jcr:primaryType="nt:unstructured"
                max-items="${{max}}"
                min-items="${{min}}"
                category="${{categoryName}}"/>
            <field
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/container"
                name="./items/${{categoryName}}/items">
                <items jcr:primaryType="nt:unstructured">
                    <linkTitle
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                        fieldDescription="Input link title"
                        fieldLabel="Link Title"
                        name="linkTitle"
                        required="{Boolean}true"/>
                    <linkURL
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/form/pathfield"
                        fieldDescription="Select Link URL"
                        fieldLabel="Link Url"
                        name="linkURL"                        															
                        rootPath="/content"
                        required="{Boolean}true"/>
                    <linkTarget
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/form/select"
                        fieldDescription="Select Link Target"
                        fieldLabel="Link Target"
                        name="linkTarget">
                        <items jcr:primaryType="nt:unstructured">
                            <sameTab
                                jcr:primaryType="nt:unstructured"
                                text="Same Tab"
                                value="_self"/>
                            <newTab
                                jcr:primaryType="nt:unstructured"
                                text="New Tab"
                                value="_blank"/>
                        </items>
                    </linkTarget>
                </items>
            </field>
        </links>
    </items>
</jcr:root>