<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:sling="http://sling.apache.org/jcr/sling/1.0"
    jcr:primaryType="cq:Page">
    <jcr:content
        cq:designPath="/libs/settings/wcm/designs/default"
        cq:lastModified="{Date}2023-03-23T17:18:55.637-05:00"
        cq:lastModifiedBy="admin"
        cq:template="/libs/cq/workflow/templates/model"
        jcr:primaryType="cq:PageContent"
        jcr:title="KPMG : Activate Rollout"
        jcr:description="This workflow either activates a page and references in it or sends an email notification to respective owner to roll-out the page from master site."
        sling:resourceType="cq/workflow/components/pages/model">
        <flow
                jcr:primaryType="nt:unstructured"
                sling:resourceType="foundation/components/parsys">
            <process
                    jcr:created="{Date}2016-05-11T14:52:58.677Z"
                    jcr:createdBy="admin"
                    jcr:description="Check for the Start/Expiry date on the payload"
                    jcr:primaryType="nt:unstructured"
                    jcr:title="Check for the Start/Expiry date on the payload"
                    sling:resourceType="cq/workflow/components/model/process">
                <metaData
                        jcr:primaryType="nt:unstructured"
                        PROCESS="com.kpmg.core.workflow.process.CheckDateExistenceAndActivationPermission"/>
            </process>
            <or
                    jcr:created="{Date}2016-05-11T14:53:01.962Z"
                    jcr:createdBy="admin"
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="cq/workflow/components/model/or"
                    branches="2"
                    orSplit="true">
                <_x0031_
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/flow/components/parsys">
                    <process
                            jcr:created="{Date}2016-05-11T14:55:08.046Z"
                            jcr:createdBy="admin"
                            jcr:primaryType="nt:unstructured"
                            jcr:title="Email Process"
                            sling:resourceType="cq/workflow/components/model/process">
                        <metaData
                                jcr:primaryType="nt:unstructured"
                                PROCESS="com.kpmg.core.workflow.process.SendEmailProcess"
                                PROCESS_ARGS="page-date-missing"
                                PROCESS_AUTO_ADVANCE="true"/>
                    </process>
                </_x0031_>
                <_x0032_
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/flow/components/parsys">
                    <process
                            jcr:created="{Date}2014-11-27T21:08:00.713+05:30"
                            jcr:createdBy="admin"
                            jcr:description="Check the page is a blue print and select a route."
                            jcr:primaryType="nt:unstructured"
                            jcr:title="Blue Print Process Check"
                            sling:resourceType="cq/workflow/components/model/process">
                        <metaData
                                jcr:primaryType="nt:unstructured"
                                PROCESS="com.kpmg.core.workflow.deactivate.BluePrint"/>
                    </process>
                    <or
                            jcr:created="{Date}2014-11-27T21:09:49.946+05:30"
                            jcr:createdBy="admin"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="cq/workflow/components/model/or"
                            branches="2"
                            orSplit="true">
                        <_x0031_
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="cq/flow/components/parsys">
                            <process
                                    jcr:created="{Date}2014-12-04T11:49:44.122+05:30"
                                    jcr:createdBy="admin"
                                    jcr:description="Creates a minor version after approval from reviewer."
                                    jcr:primaryType="nt:unstructured"
                                    jcr:title="Minor Version"
                                    sling:resourceType="cq/workflow/components/model/process">
                                <metaData
                                        jcr:primaryType="nt:unstructured"
                                        PROCESS="com.kpmg.core.workflow.process.CustomCreateVersionProcess"
                                        PROCESS_ARGS="minor"
                                        PROCESS_AUTO_ADVANCE="true"/>
                            </process>
                            <process_0
                                    jcr:created="{Date}2014-12-22T10:51:44.025+05:30"
                                    jcr:createdBy="admin"
                                    jcr:description="Send manual roll out email to live copy content authors."
                                    jcr:primaryType="nt:unstructured"
                                    jcr:title="Send Manual Roll-Out Email To Live Copy Authors"
                                    sling:resourceType="cq/workflow/components/model/process">
                                <metaData
                                        jcr:primaryType="nt:unstructured"
                                        PROCESS="com.kpmg.core.workflow.process.SendEmailProcess"
                                        PROCESS_ARGS="activate-blueprint-owner-email"
                                        PROCESS_AUTO_ADVANCE="true"/>
                            </process_0>
                            <dynamic_participant
                                    jcr:created="{Date}2014-12-04T11:53:06.854+05:30"
                                    jcr:createdBy="admin"
                                    jcr:description="kpmg.activateRollout.blueprintOwnerDescription"
                                    jcr:primaryType="nt:unstructured"
                                    jcr:title="Blueprint Owner"
                                    sling:resourceType="cq/workflow/components/model/dynamic_participant">
                                <metaData
                                        jcr:primaryType="nt:unstructured"
                                        DIALOG_PATH="/apps/kpmgpublic/components/workflows/performrollout/dialog"
                                        DYNAMIC_PARTICIPANT="com.kpmg.core.workflow.process.DynamicInitiator"
                                        PROCESS_ARGS="CREATEDBY"/>
                            </dynamic_participant>
                        </_x0031_>
                        <_x0032_
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="cq/flow/components/parsys">
                            <process
                                    jcr:created="{Date}2015-01-20T14:58:29.499+05:30"
                                    jcr:createdBy="admin"
                                    jcr:description="Schedule Off Time Check"
                                    jcr:primaryType="nt:unstructured"
                                    jcr:title="Schedule Off Time Check"
                                    sling:resourceType="cq/workflow/components/model/process">
                                <metaData
                                        jcr:primaryType="nt:unstructured"
                                        PROCESS="com.kpmg.core.workflow.process.ScheduleOffTimeCheckProcess"/>
                            </process>
                            <or
                                    jcr:created="{Date}2014-11-27T21:14:07.301+05:30"
                                    jcr:createdBy="admin"
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="cq/workflow/components/model/or"
                                    branches="3"
                                    orSplit="true">
                                <_x0031_
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="cq/flow/components/parsys">
                                    <noopprocess
                                            jcr:created="{Date}2015-01-20T15:03:08.415+05:30"
                                            jcr:createdBy="admin"
                                            jcr:description="A no operation process"
                                            jcr:primaryType="nt:unstructured"
                                            jcr:title="Scheduled Off Time Expired"
                                            sling:resourceType="cq/workflow/components/workflow/noopprocess"
                                            PROCESS="/etc/workflow/scripts/noop.ecma"
                                            PROCESS_AUTO_ADVANCE="true">
                                        <metaData
                                                jcr:primaryType="nt:unstructured"
                                                PROCESS="/etc/workflow/scripts/noop.ecma"
                                                PROCESS_AUTO_ADVANCE="true"/>
                                    </noopprocess>
                                    <process
                                            jcr:created="{Date}2015-01-20T15:03:18.400+05:30"
                                            jcr:createdBy="admin"
                                            jcr:description="Scheduled Off Time Expired Mail Notification"
                                            jcr:primaryType="nt:unstructured"
                                            jcr:title="Scheduled Off Time Expired Mail Notification"
                                            sling:resourceType="cq/workflow/components/model/process">
                                        <metaData
                                                jcr:primaryType="nt:unstructured"
                                                PROCESS="com.kpmg.core.workflow.process.SendEmailProcess"
                                                PROCESS_ARGS="page-expired"
                                                PROCESS_AUTO_ADVANCE="true"/>
                                    </process>
                                </_x0031_>
                                <_x0032_
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="cq/flow/components/parsys">
                                    <noopprocess
                                            jcr:created="{Date}2015-01-20T15:01:59.649+05:30"
                                            jcr:createdBy="admin"
                                            jcr:description="A no operation process"
                                            jcr:primaryType="nt:unstructured"
                                            jcr:title="Activation"
                                            sling:resourceType="cq/workflow/components/workflow/noopprocess"
                                            PROCESS="/etc/workflow/scripts/noop.ecma"
                                            PROCESS_AUTO_ADVANCE="true">
                                        <metaData
                                                jcr:primaryType="nt:unstructured"
                                                PROCESS="/etc/workflow/scripts/noop.ecma"
                                                PROCESS_AUTO_ADVANCE="true"/>
                                    </noopprocess>
                                    <process_1
                                            jcr:created="{Date}2015-01-20T15:01:55.703+05:30"
                                            jcr:createdBy="admin"
                                            jcr:description="Creates a major version after approval from reviewer."
                                            jcr:primaryType="nt:unstructured"
                                            jcr:title="Create Major Version"
                                            sling:resourceType="cq/workflow/components/model/process">
                                        <metaData
                                                jcr:primaryType="nt:unstructured"
                                                PROCESS="com.kpmg.core.workflow.process.CustomCreateVersionProcess"
                                                PROCESS_ARGS="major"
                                                PROCESS_AUTO_ADVANCE="true"/>
                                    </process_1>
                                    <activateresourceproc
                                            jcr:created="{Date}2015-03-03T20:05:45.975+05:30"
                                            jcr:createdBy="admin"
                                            jcr:description="A process to activate a page or asset"
                                            jcr:primaryType="nt:unstructured"
                                            jcr:title="Activate Page/Asset"
                                            sling:resourceType="wcm/workflow/components/workflow/activateresourceprocess">
                                        <metaData
                                                jcr:primaryType="nt:unstructured"
                                                PROCESS="com.day.cq.wcm.workflow.process.ActivatePageProcess"
                                                PROCESS_AUTO_ADVANCE="true"/>
                                    </activateresourceproc>
                                    <process_313054920
                                            jcr:created="{Date}2017-12-04T20:01:46.104Z"
                                            jcr:createdBy="admin"
                                            jcr:primaryType="nt:unstructured"
                                            jcr:title="Add Audit"
                                            sling:resourceType="cq/workflow/components/model/process">
                                        <metaData
                                                jcr:primaryType="nt:unstructured"
                                                PROCESS="com.kpmg.core.workflow.process.CustomAuditLogProcess"
                                                PROCESS_AUTO_ADVANCE="true"/>
                                    </process_313054920>
                                    <process
                                            jcr:created="{Date}2015-01-20T15:01:44.193+05:30"
                                            jcr:createdBy="admin"
                                            jcr:description="Page activation email notification"
                                            jcr:primaryType="nt:unstructured"
                                            jcr:title="Activated Email notifcation"
                                            sling:resourceType="cq/workflow/components/model/process">
                                        <metaData
                                                jcr:primaryType="nt:unstructured"
                                                PROCESS="com.kpmg.core.workflow.process.SendEmailProcess"
                                                PROCESS_ARGS="activated"
                                                PROCESS_AUTO_ADVANCE="true"/>
                                    </process>
                                </_x0032_>
                                <_x0033_
                                        jcr:primaryType="nt:unstructured"
                                        sling:resourceType="cq/flow/components/parsys">
                                    <process_1
                                            jcr:created="{Date}2015-01-20T15:01:13.305+05:30"
                                            jcr:createdBy="admin"
                                            jcr:description="Creates a major version after approval from reviewer."
                                            jcr:primaryType="nt:unstructured"
                                            jcr:title="Create Major version"
                                            sling:resourceType="cq/workflow/components/model/process">
                                        <metaData
                                                jcr:primaryType="nt:unstructured"
                                                PROCESS="com.kpmg.core.workflow.process.CustomCreateVersionProcess"
                                                PROCESS_ARGS="major"
                                                PROCESS_AUTO_ADVANCE="true"/>
                                    </process_1>
                                    <process
                                            jcr:created="{Date}2015-01-20T15:00:14.914+05:30"
                                            jcr:createdBy="admin"
                                            jcr:description="Send an email for scheduled activation"
                                            jcr:primaryType="nt:unstructured"
                                            jcr:title="Send Activation Email"
                                            sling:resourceType="cq/workflow/components/model/process">
                                        <metaData
                                                jcr:primaryType="nt:unstructured"
                                                PROCESS="com.kpmg.core.workflow.process.SendEmailProcess"
                                                PROCESS_ARGS="scheduled-for-activation"
                                                PROCESS_AUTO_ADVANCE="true"/>
                                    </process>
                                </_x0033_>
                            </or>
                        </_x0032_>
                    </or>
                </_x0032_>
            </or>
        </flow>
    </jcr:content>
</jcr:root>
