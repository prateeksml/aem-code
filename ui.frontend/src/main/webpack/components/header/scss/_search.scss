$cmpSearchParent: ".cmp-search";

#{$cmpSearchParent} {
  //FYI - This component is receiving default styles from
  //ui.apps/src/main/content/jcr_root/apps/kpmg/components/structure/search

  $closeBarHeight: $alias-size-xx-large; //48px
  $inputBarHeight: calc(($alias-size-base * 2) + $alias-size-medium); //56px
  $searchHeight: $alias-size-medium; //24px
  $previousSearchItemHeight: $alias-size-xx-large; //48px
  $previousSearchButtonHeight: $alias-size-medium; //24px

  @include normalize-style;
  @include display-flex-align-center;
  justify-content: flex-end;
  height: $searchHeight;

  &__section {
    display: none;
    transition-delay: 0.5s;
    transition-property: border;

    &--active {
      display: block;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: $global-color-brand-white;
      z-index: 999;
    }
  }

  //These are the styles to be applied to the close bar container
  &__close-bar--container {
    @include display-flex-align-center;
    justify-content: flex-end;
    height: $closeBarHeight;
    border-bottom: 1px solid $global-color-strokes-cobalt-blue-20-percent;
  }

  //These are styles to be applied to the input
  //container when the section is active
  &__input {
    &--container {
      width: 100%;
    }

    &--inner {
      @include display-flex-align-center;
      height: auto;
      margin: 0 $alias-padding-base;
      padding: $alias-padding-base 0;
    }
  }

  &__empty-search-container {
    @include typography-body-small-regular;
    display: none;
    padding: $alias-padding-base;

    &--active {
      display: block;
    }
  }

  //Previous Search Styles
  &__previous-search {
    @include normalize-style;
    @include typography-body-default-regular;
    position: absolute;
    top: calc($closeBarHeight + $inputBarHeight);
    left: 0;
    display: none;
    z-index: 100;
    padding: $alias-padding-base;

    &--screen-reader-only {
      @include aria-invisible;
    }

    &--active {
      display: block;
    }

    &--title {
      @include typography-body-caption;
      height: $alias-size-medium;
      vertical-align: middle;
    }

    &--list {
      @include normalize-style;
      @include display-flex-align-center;
      flex-direction: column;
      list-style: none;
      flex: auto;
    }

    &--item {
      @include normalize-style;
      @include display-flex-align-center;
      height: $previousSearchItemHeight;

      //Apply general styles to each button
      button {
        cursor: pointer;
        padding: 0;
        border: none;
        height: $previousSearchButtonHeight;
        background: transparent;
      }
    }

    &--remove-cta {
      @include material-icons-filled;
      margin-right: $alias-margin-small;
      font-size: $alias-font-size-base;
      vertical-align: middle;
    }

    &--text-cta {
      @include typography-body-default-regular;
      margin: 0;
      text-align: left;
      width: 100%;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      vertical-align: middle;
      height: $previousSearchButtonHeight;

      &:focus {
        outline: 4px solid $alias-color-button-outline-color-primary-focus;
      }

      &:hover {
        color: $global-color-brand-cobalt-blue;
        text-decoration: underline;
      }
    }
  }

  //This is the main search button
  //With the magnifying glass icon
  &__button {
    @include typography-body-default-regular;
    cursor: pointer;
    display: inline-block;
    top: $alias-padding-x-small;
    right: 0;
    background-color: transparent;
    border: 0;
    padding: $alias-padding-xx-small;
    text-decoration: none;
    text-align: left;
    color: $global-color-brand-spectrum-blue;
    z-index: 1;
    align-self: center;
    border-radius: $alias-border-radius;

    &:hover {
      color: $alias-color-button-color-tertiary-hover;
    }

    &:focus {
      outline: 4px solid $alias-color-button-outline-color-primary-focus;
    }

    span {
      pointer-events: none;
    }

    &--icon {
      @include material-icons-filled;
      font-size: $alias-icon-size-medium;
      vertical-align: middle;
    }

    &--text {
      display: none;
    }
  }

  &__cancel-button {
    cursor: pointer;
    padding: $alias-padding-small;
    background-color: transparent;
    border: none;

    &--icon {
      @include material-icons-outlined;
      color: $global-color-brand-spectrum-blue;
    }
  }
}

// .cmp-search {
//   //FYI - This component is receiving default styles from
//   //ui.apps/src/main/content/jcr_root/apps/kpmg/components/structure/search

//   $bottom-banner-height: $global-size-3;

//   @include normalize-style;

//   position: unset;

//   .search-container--active {
//     @include desktop-small {
//       position: relative;
//     }
//   }

//   .cmp-search__section {
//     display: flex;
//     justify-content: flex-end;
//     transition-delay: 0.5s;
//     transition-property: border;

//     @include desktop-small {
//       top: 0;
//     }

//     &--active {
//       width: 100%;
//       height: 100%;
//       background-color: $global-color-brand-white;
//       top: 0;
//       left: 0;
//       flex-direction: column-reverse;
//       z-index: 999;
//       position: fixed;
//       @include desktop-small {
//         position: absolute;
//         height: auto;
//         top: initial;
//         background-color: transparent;
//         border-bottom: 1px solid $global-color-grayscale-black;
//         flex-direction: initial;
//       }
//       .cmp-search__input-wrapper {
//         visibility: visible;
//         height: auto;
//         padding: $alias-padding-base;
//         border-bottom: 1px solid $global-color-grayscale-black;
//         position: relative;
//         @include desktop-small {
//           margin: 0;
//           width: 100%;
//           max-width: 100%;
//           padding: $alias-padding-medium;
//           border-bottom: 0;
//           position: static;
//         }
//       }
//       .cmp-search__autocomplete-wrapper {
//         width: 100%;
//         display: flex;
//         align-items: center;
//       }
//       .cmp-search__input-icon {
//         display: block;
//       }
//       .cmp-search__cancel-cta {
//         display: inline-block;
//         align-self: flex-end;
//         min-height: $bottom-banner-height;
//         @include desktop-small {
//           align-self: center;
//           min-height: initial;
//         }
//       }
//       .cmp-search__cta {
//         display: none;
//       }
//     }

//     .cmp-search__input-clear {
//       @include material-icons-outlined;
//       cursor: pointer;
//       background-color: transparent;
//       padding: 0;
//       border: 0;
//       border-radius: $alias-border-radius;
//       display: none;
//       z-index: 100;
//       font-size: $alias-icon-size-base;
//       &.active {
//         display: block;
//       }
//       &:focus {
//         outline: 4px solid $alias-color-button-outline-color-primary-focus;
//       }
//       @include desktop-small {
//         font-size: $alias-icon-size-medium;
//       }
//     }

//     .cmp-search__input-wrapper {
//       //TODO switch back
//       display: none; //display:flex
//       width: 100%;
//       background-color: $global-color-brand-white;
//       border-top: 1px solid $global-color-strokes-cobalt-blue-20-percent;
//       height: 0;
//       padding: 0 $alias-padding-base;
//       visibility: hidden;
//       transition: height 0.5s ease-in-out, padding 0.25s;
//       @include desktop-small {
//         transition: width 0.5s ease-in-out, padding 0.25s;
//         top: initial;
//         width: 0;
//         padding: $alias-padding-medium;
//         border-top: 0;
//         height: auto;
//         padding: $alias-padding-medium 0;
//       }
//     }

//     .cmp-search__input-icon {
//       @include material-icons-filled;
//       font-size: $alias-icon-size-base;
//       vertical-align: middle;
//       display: none;
//       @include desktop-small {
//         font-size: $alias-icon-size-medium;
//         padding: $alias-padding-xx-small 0;
//       }
//     }
//     #cmp-search__input-box {
//       border: none;
//       text-align: left;
//       @include typography-body-default-regular;
//       padding: 0;
//       border-radius: 0;
//       width: calc(100% - $alias-padding-base);
//       transition: width 0.4s ease-in-out, padding 0.2s;
//       margin-left: $alias-margin-x-small;
//       @include desktop-small {
//         margin-left: $alias-margin-base;
//         padding: $alias-padding-xx-small;
//       }
//       &:focus {
//         outline: none;
//       }
//     }
//     .cmp-search__cta,
//     .cmp-search__cancel-cta {
//       cursor: pointer;
//       background-color: transparent;
//       border: 0;
//       padding: $alias-padding-xx-small;
//       display: inline-block;
//       text-decoration: none;
//       text-align: left;
//       @include typography-body-default-regular;
//       color: $global-color-brand-spectrum-blue;
//       z-index: 1;
//       top: $alias-padding-x-small;
//       right: 0;
//       align-self: center;
//       border-radius: $alias-border-radius;
//       &:hover {
//         color: $alias-color-button-color-tertiary-hover;
//       }
//       &:focus {
//         outline: 4px solid $alias-color-button-outline-color-primary-focus;
//       }
//       @include desktop-small {
//         display: flex;
//         position: relative;
//         top: initial;
//         right: initial;
//         align-items: center;
//         padding: $alias-padding-small $alias-padding-base;
//       }
//       span {
//         pointer-events: none;
//       }
//       .cmp-search__cta-icon,
//       .cmp-search__cancel-cta-icon {
//         @include material-icons-filled;
//         font-size: $alias-icon-size-medium;
//         vertical-align: middle;
//         content: "search";
//         color: inherit;
//       }
//       .cmp-search__cta-text {
//         display: none;
//         @include desktop-small {
//           display: inline-block;
//           margin-left: $alias-margin-x-small;
//         }
//       }
//     }
//     .cmp-search__cancel-cta {
//       @include typography-body-default-semibold;
//       color: $global-color-brand-cobalt-blue;
//       display: none;
//       margin-right: $alias-margin-base;
//       @include desktop-small {
//         margin-right: 0;
//       }
//       .cmp-search__cancel-cta-icon {
//         display: inline-block;
//         content: "close";
//         color: $global-color-brand-spectrum-blue;
//         @include desktop-small {
//           display: none;
//         }
//       }
//       .cmp-search__cancel-cta-text {
//         display: none;
//         @include desktop-small {
//           display: inline-block;
//         }
//       }
//     }
//     .cmp-search__empty-search-wrapper {
//       display: none;
//       &.active {
//         display: block;
//       }
//       @include typography-body-small-regular;
//       padding: $alias-padding-base $alias-padding-base;
//     }
//     .cmp-search__previous-search-wrapper {
//       display: none;
//       .cmp-search__previous-search__screen-reader-only {
//         @include aria-invisible;
//       }
//       &.active {
//         display: block;
//       }
//       .cmp-search__previous-search-title {
//         @include typography-body-small-semibold;
//         padding: $alias-padding-x-small 0;
//       }
//       .cmp-search__previous-search-items {
//         margin: 0;
//         list-style: none;
//         padding: 0;
//         .cmp-search__previous-search-item {
//           padding: $alias-padding-x-small 0;
//           display: flex;
//           .cmp-search__previous-search--remove-cta,
//           .cmp-search__previous-search--text-cta {
//             cursor: pointer;
//             background-color: transparent;
//             border: 0;
//             padding: 0;
//             display: block;
//             width: 100%;
//             text-decoration: none;
//             text-align: left;
//             @include typography-body-default-regular;
//             padding: 0 $alias-margin-x-small;
//             &:focus {
//               outline: 4px solid $alias-color-button-outline-color-primary-focus;
//             }
//             &:hover {
//               color: $global-color-brand-cobalt-blue;
//               text-decoration: underline;
//             }
//           }
//           .cmp-search__previous-search--remove-cta {
//             @include material-icons-filled;
//             font-size: $alias-icon-size-small;
//             padding: $alias-padding-x-small;
//             border-radius: 50%;
//             margin-right: $alias-margin-x-small;
//             content: "close";
//             color: inherit;
//             height: 28px;
//             width: 28px;
//             @include desktop-small {
//               font-size: $alias-icon-size-base;
//               height: 32px;
//               width: 32px;
//             }
//             &:hover {
//               background-color: $global-color-grayscale-neutrals-100;
//               color: $global-color-brand-cobalt-blue;
//               text-decoration: none;
//             }
//           }
//         }
//       }
//     }
//   }

//   //TODO - Figure out where to put this
//   //Maybe it's own file
//   //Autocomplete Styles
//   .autocomplete__wrapper {
//     width: 100%;
//   }

//   .autocomplete__hint,
//   .autocomplete__input {
//     width: 100%;
//   }

//   .autocomplete__input {
//     background-color: transparent;
//     position: relative;
//   }

//   .autocomplete__input--show-all-values {
//     padding: 5px 34px 5px 5px; /* Space for arrow. Other padding should match .autocomplete__input--default. */
//     cursor: pointer;
//   }

//   .autocomplete__dropdown-arrow-down {
//     z-index: -1;
//     display: inline-block;
//     right: 8px;
//     width: 24px;
//     height: 24px;
//     top: 10px;
//   }

//   .autocomplete__menu,
//   .cmp-search__previous-search-wrapper,
//   .cmp-search__empty-search-wrapper {
//     background-color: $global-color-brand-white;
//     @include typography-body-default-regular;
//     overflow-x: hidden;
//     padding: $alias-padding-base $alias-padding-base;
//     width: 100%;
//     margin: 0;
//     margin-top: 1px;
//     position: absolute;
//     border-bottom: 1px solid $global-color-grayscale-neutrals-500;
//     border-left: 1px solid $global-color-grayscale-neutrals-500;
//     border-right: 1px solid $global-color-grayscale-neutrals-500;
//   }

//   .autocomplete__menu {
//     padding: $alias-padding-base $alias-padding-x-small;
//     @include desktop-small {
//       padding: $alias-padding-base $alias-padding-base;
//     }
//   }

//   .autocomplete__menu--visible {
//     display: block;
//   }

//   .autocomplete__menu--hidden {
//     display: none;
//     padding: 0;
//   }

//   .autocomplete__menu--overlay,
//   .cmp-search__previous-search-wrapper,
//   .cmp-search__empty-search-wrapper {
//     left: 0;
//     top: 100%;
//     z-index: 100;
//   }

//   .autocomplete__menu--inline {
//     position: relative;
//   }

//   .autocomplete__option {
//     cursor: pointer;
//     display: block;
//     position: relative;
//     padding: $alias-padding-x-small $alias-padding-xx-small
//       $alias-padding-x-small $alias-padding-x-large;
//     display: flex;
//     align-items: center;
//     @include typography-body-default-regular;
//     color: $global-color-brand-spectrum-blue;
//     @include desktop-small {
//       padding: $alias-padding-small $alias-padding-x-small $alias-padding-small
//         $alias-padding-x-large;
//     }
//     &:focus {
//       border: none;
//     }
//     &:focus-visible {
//       outline: none;
//     }
//     &:before {
//       @include typography-body-default-regular;
//       @include material-icons-filled;
//       font-size: inherit;
//       vertical-align: middle;
//       content: "search";
//       display: inline-block;
//       margin-right: $alias-margin-x-small;
//       color: $global-color-grayscale-neutrals-500;
//       width: 32px;
//       height: 32px;
//       line-height: 32px;
//       text-align: center;
//       position: absolute;
//       left: 0;
//       top: 6px;
//       @include desktop-small {
//         top: 10px;
//       }
//     }
//     span {
//       @include typography-body-default-bold;
//       display: contents;

//       &[id^="cmp-search"] {
//         display: inherit;
//       }
//     }
//   }
//   .autocomplete__option:hover {
//     color: $global-color-brand-cobalt-blue;
//     text-decoration: underline;
//     span {
//       color: $global-color-brand-cobalt-blue;
//     }
//     &:before {
//       text-decoration: none;
//     }
//   }

//   .autocomplete__option--focused,
//   .autocomplete__option:focus {
//     outline: 4px solid $alias-color-button-outline-color-primary-focus;
//   }

//   .autocomplete__option > * {
//     pointer-events: none;
//   }

//   .autocomplete__option--no-results {
//     cursor: not-allowed;
//   }
// }
